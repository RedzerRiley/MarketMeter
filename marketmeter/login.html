<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login — MarketMeter</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/auth.css" />
</head>
<body class="auth-body">

  <!-- Navigation -->
  <header class="navbar">
    <div class="container nav-inner">
      <a href="../index.html" class="logo">MarketMeter</a>
      <nav>
        <ul class="nav-links">
          <li><a href="../index.html">Home</a></li>
          <li><a href="../index.html#about">About</a></li>
          <li><a href="../index.html#how-it-works">How It Works</a></li>
          <li><a href="login.html" class="nav-login">Login</a></li>
          <li><a href="register.html" class="nav-register">Register</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Login Page -->
  <main class="auth-main">
    <div class="auth-split">

      <!-- Left Panel -->
      <div class="auth-panel-left">
        <div class="auth-panel-content">
          <p class="auth-panel-label">Welcome Back</p>
          <h2 class="auth-panel-headline">Your smarter shopping journey continues here.</h2>
          <p class="auth-panel-desc">Log in to access community price data, submit market prices, and compare with official SRP in real time.</p>
          <div class="auth-panel-divider"></div>
          <ul class="auth-panel-features">
            <li>Access verified community price submissions</li>
            <li>Compare prices against DTI-issued SRP</li>
            <li>Track goods across multiple locations</li>
          </ul>
        </div>
      </div>

      <!-- Right Panel / Form -->
      <div class="auth-panel-right">
        <div class="auth-form-wrapper">
          <div class="auth-form-header">
            <h1>Sign In</h1>
            <p>Enter your credentials to access your account.</p>
          </div>

          <form id="loginForm" class="auth-form" novalidate>

            <!-- General error message (JS-populated) -->
            <div class="form-alert form-alert--error" id="loginGeneralError" role="alert" aria-live="polite"></div>

            <!-- Email -->
            <div class="form-group" id="group-login-email">
              <label for="loginEmail" class="form-label">Email Address</label>
              <input
                type="email"
                id="loginEmail"
                name="email"
                class="form-input"
                placeholder="you@example.com"
                autocomplete="email"
                required
                data-validate="email"
              />
              <span class="form-error" id="error-login-email" role="alert"></span>
            </div>

            <!-- Password -->
            <div class="form-group" id="group-login-password">
              <div class="label-row">
                <label for="loginPassword" class="form-label">Password</label>
                <a href="#" class="form-link form-link--small">Forgot password?</a>
              </div>
              <div class="input-wrapper">
                <input
                  type="password"
                  id="loginPassword"
                  name="password"
                  class="form-input"
                  placeholder="Enter your password"
                  autocomplete="current-password"
                  required
                  data-validate="required"
                />
                <button type="button" class="toggle-password" data-target="loginPassword" aria-label="Toggle password visibility">
                  Show
                </button>
              </div>
              <span class="form-error" id="error-login-password" role="alert"></span>
            </div>

            <!-- Submit -->
            <button type="submit" class="btn btn-primary btn-full" id="loginBtn">
              Login
            </button>

            <p class="auth-redirect">
              Don't have an account? <a href="register.html" class="form-link">Create one here</a>
            </p>

          </form>
        </div>
      </div>

    </div>
  </main>

  <!-- Footer -->
  <footer class="footer auth-footer">
    <div class="container footer-inner">
      <div class="footer-brand">
        <span class="logo">MarketMeter</span>
        <p class="footer-copy">&copy; 2025 MarketMeter. All rights reserved. A university research project.</p>
      </div>
      <nav class="footer-nav">
        <a href="index.html">Home</a>
        <a href="index.html#about">About</a>
        <a href="index.html#how-it-works">How It Works</a>
        <a href="login.html">Login</a>
        <a href="register.html">Register</a>
      </nav>
    </div>
  </footer>

  <!--
    ============================================================
    JS INTEGRATION NOTES FOR BACKEND DEVELOPER
    ============================================================
    The form has id="loginForm".
    Fields:
      - #loginEmail       → input[name="email"]
      - #loginPassword    → input[name="password"]

    To hook in your JS:
      document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const email    = document.getElementById('loginEmail').value.trim();
        const password = document.getElementById('loginPassword').value;
        // Run your local DB lookup here
      });

    To show a general error (e.g. wrong credentials):
      const el = document.getElementById('loginGeneralError');
      el.textContent = 'Invalid email or password.';
      el.style.display = 'block';

    To show a field-level error:
      showFieldError('group-login-email', 'error-login-email', 'Email is required.');

    To clear errors:
      clearFieldError('group-login-email', 'error-login-email');
    ============================================================
  -->

  <script src="js/auth.js"></script>
</body>
</html>